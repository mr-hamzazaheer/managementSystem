<form class="my-10 space-y-6 max-w-lg mx-auto"
      [formGroup]="registerForm"
      (ngSubmit)="Register()">
  <!-- Title -->
  <div class="text-center">
    <h2 class="text-foreground mb-1 text-3xl font-semibold">
      Sign Up <span class="text-primary">!</span>
    </h2>
  </div>

  <!-- Google Signup -->
  <div routerLink="/dashboard">
    <app-button full impact="bold" tone="light" shape="rounded" size="medium">
      <svg-icon src="assets/icons/google-logo.svg" [svgClass]="'h-6 w-6 mr-2'"> </svg-icon>
      Sign Up with Google
    </app-button>
  </div>

  <!-- Separator -->
  <div class="before:border-muted after:border-muted my-4 flex items-center before:flex-1 before:border-t after:flex-1 after:border-t">
    <p class="text-muted-foreground mx-4 mb-0 text-center text-sm">or</p>
  </div>

  <!-- Email -->
  <div class="relative">
    <input
      type="email"
      id="email"
      formControlName="email"
      class="peer block w-full border border-gray-300 px-4 py-2 rounded-md text-sm placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <label
      for="email"
      class="bg-background text-muted-foreground absolute top-2 left-3 z-10 text-sm origin-[0] -translate-y-4 scale-95 transform px-2 duration-300 peer-placeholder-shown:top-1/3 peer-placeholder-shown:left-3 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2">
      Email address
    </label>
    <div [formError]="'email'" [formGroup]="registerForm"></div>
  </div>
  <!-- First Name -->
  <div class="relative">
    <input
      type="text"
      id="firstName"
      formControlName="firstName"
      class="peer block w-full border border-gray-300 px-4 py-2 rounded-md text-sm placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <label
      for="firstName"
      class="bg-background text-muted-foreground absolute top-2 left-3 z-10 text-sm origin-[0] -translate-y-4 scale-95 transform px-2 duration-300 peer-placeholder-shown:top-1/3 peer-placeholder-shown:left-3 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2">
      First Name
    </label>
    <div [formError]="'firstName'" [formGroup]="registerForm"></div>
  </div>
  <!-- Last Name -->
  <div class="relative">
    <input
      type="text"
      id="lastName"
      formControlName="lastName"
      class="peer block w-full border border-gray-300 px-4 py-2 rounded-md text-sm placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <label
      for="lastName"
      class="bg-background text-muted-foreground absolute top-2 left-3 z-10 text-sm origin-[0] -translate-y-4 scale-95 transform px-2 duration-300 peer-placeholder-shown:top-1/3 peer-placeholder-shown:left-3 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2">
      Last Name
    </label>
    <div [formError]="'lastName'" [formGroup]="registerForm"></div>
  </div>
  <!-- Password -->
  <div class="relative">
    <input
      type="password"
      id="password"
      formControlName="password"
      class="peer block w-full border border-gray-300 px-4 py-2 rounded-md text-sm placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary"
      (input)="checkPasswordStrength()"
    />
    <label
      for="password"
      class="bg-background text-muted-foreground absolute top-2 left-3 z-10 text-sm origin-[0] -translate-y-4 scale-95 transform px-2 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:left-3 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2">
      Password
    </label>
    <span class="text-muted-foreground absolute top-2 right-3 cursor-pointer">
      <svg-icon src="assets/icons/heroicons/outline/eye-off.svg" [svgClass]="'h-5 w-5'"> </svg-icon>
    </span>
  </div>

  <!-- Password Strength Meter -->
  <div >
    <div class="grid grid-cols-4 gap-2">
    <div
      *ngFor="let i of [0,1,2,3]; let idx = index"
      class="h-1 rounded-xs transition-all"
      [ngClass]="{
        'bg-gray-300': passwordStrength <= idx,
        'bg-red-500': passwordStrength === 1 && idx < 1,
        'bg-yellow-400': passwordStrength === 2 && idx < 2,
        'bg-blue-500': passwordStrength === 3 && idx < 3,
        'bg-green-500': passwordStrength === 4 && idx < 4
      }"
    ></div>
    </div>
  <span class="text-muted-foreground text-xs">
    Use 8 or more characters with a mix of letters, numbers & symbols.
  </span>
  </div>

  <!-- Confirm Password -->
  <div class="relative">
    <input
      type="password"
      id="confirm-password"
      formControlName="confirmPassword"
      class="peer block w-full border border-gray-300 px-4 py-2 rounded-md text-sm placeholder-transparent focus:outline-none focus:ring-2 focus:ring-primary"
      placeholder="Confirm Password"
    />
    <label
      for="confirm-password"
      class="bg-background text-muted-foreground absolute top-2 left-3 z-10 text-sm origin-[0] -translate-y-4 scale-95 transform px-2 duration-300 peer-placeholder-shown:top-1/4 peer-placeholder-shown:left-3 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2">
      Confirm Password
    </label> 
    <div [formError]="'confirmPassword'" [formGroup]="registerForm"></div>
  </div>

  <!-- Terms Checkbox -->
  <div class="flex items-center gap-2 text-sm text-muted-foreground">
    <input id="accept-term" type="checkbox" [checked]="true" />
    <label for="accept-term">I Accept the</label>
    <app-button impact="none" tone="primary" shape="rounded" size="small">Terms</app-button>
  </div>

  <!-- Submit -->
  <div>
    <app-button full impact="bold" tone="primary" shape="rounded" size="medium" type="submit" (click)="Register()" [disabled]="registerForm.invalid">
      Sign up
    </app-button>
  </div>

  <!-- Already have account -->
  <div class="text-muted-foreground flex items-center text-sm">
    Already have an Account?
    <app-button routerLink="/auth/sign-in" impact="none" tone="primary" shape="rounded" size="small">
      Sign in
    </app-button>
  </div>
</form>
